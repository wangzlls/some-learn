<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>图书管理系统</title>
</head>
<body>
<h1 align="center" style="font-family: KaiTi">图书管理系统</h1>
<p align="center">
    <span>书名</span><input type="text" id="bookName">
    <span>作者</span><input type="text" id="bookAuthor">
    <span>价格</span><input type="text" id="bookPrice">
    <span>数量</span><input type="text" id="bookCount">
</p>
<p align="center">
    <button id="add">添加</button>
    <button id="query">查询</button>
</p>
<hr/>
<div id="showMessage">
</div>
<script>
    //1.获取页面元素
    var bookNameInput = document.getElementById('bookName');
    var bookAuthorInput = document.getElementById('bookAuthor');
    var bookPriceInput = document.getElementById('bookPrice');
    var bookCountInput = document.getElementById('bookCount');
    var addBtn = document.getElementById('add');
    var queryBtn = document.getElementById('query');
    var showDiv = document.getElementById('showMessage');
    //1.5准备二维数组 用于承载数据
    var bookArr = [];
    //2.给button添加点击事件
    //2.1 addBtn添加按钮
    addBtn.onclick = function () {
        var bookName = bookNameInput.value;
        var bookAuthor = bookAuthorInput.value;
        var bookPrice = bookPriceInput.value;
        var bookCount = bookCountInput.value;
        //2.11对元素内容判断
        //2.12元素内容不完整
        if (bookName.trim().length == 0) {
            alert('没有输入书名，重新输入书名！')
        } else if (bookAuthor.trim().length == 0) {
            alert('没有输入作者，重新输入作者！')
        } else if (bookPrice.trim().length == 0) {
            alert('没有输入价格，重新输入价格！')
        } else if (bookCount.trim().length == 0) {
            alert('没有输入数量，重新输入数量！')
        } else {
            //2.12 元素内容完整
            //2.13将元素添加到二维数组内
            var arr = [];
            arr.push(bookName, bookAuthor, bookPrice, bookCount);
            bookArr.push(arr);
            console.log(bookArr);

            //利用对象的方式写。
            // var obj = {};
            // obj.bookName = bookName;
            // obj.bookAuthor = bookAuthor;
            // obj.bookPrice = bookPrice;
            // obj.bookCount = bookCount;
            // bookArr.push(obj);
            // console.log(bookArr);
            //2.14每次点击添加按钮后，数据清空 清除历史记录
            bookNameInput.value = '';
            bookAuthorInput.value = '';
            bookPriceInput.value = '';
            bookCountInput.value = '';
            cheakBook()
        }
    };
    queryBtn.onclick = function () {
        console.log('我被点击了！');
        cheakBook()
    };
    //2.2 queryBtn展示按钮
    // queryBtn.onclick = function () {
    //     //2.2判断二维数组是否含有数据
    //     if (bookArr.length == 0) {
    //         alert('没有添加数据，重新添加数据！')
    //     } else {
    //         //2.22有数据时 填充div数据
    //         var str = '<table border="1" cellspacing="0" width="600" align="center" style="text-align: center"> ' +
    //             '<tr><th>书名</th> <th>作者</th><th>价格</th><th>数量</th></tr>';
    //         //2.23注意行数不固定  随着据的增多而增多
    //         //有几个一维数组 意味着有几行数据  有几个<tr>
    //         for (var i = 0; i < bookArr.length; i++) {
    //             str += '<tr><td>' + bookArr[i][0] + '</td>' +
    //                 '<td>' + bookArr[i][1] + '</td>' +
    //                 '<td>' + bookArr[i][2] + '</td>' +
    //                 '<td>' + bookArr[i][3] + '</td></tr>'
    //         }
    //         //  利用对象的方式写。
    //         // for (var i = 0; i < bookArr.length; i++) {
    //         //     str += '<tr><td>' + bookArr[i].bookName + '</td>' +
    //         //         '<td>' + bookArr[i].bookAuthor + '</td>' +
    //         //         '<td>' + bookArr[i].bookPrice + '</td>' +
    //         //         '<td>' + bookArr[i].bookCount + '</td></tr>'
    //         // }
    //         //2.24数据展示
    //         str += '</table>';
    //         console.log(str);
    //         showDiv.innerHTML = str;
    //     }
    // }


    // 当点击添加按钮时，也会出现展示内容。
    function cheakBook() {
        if (bookArr.length == 0) {
            alert('没有添加数据，重新添加数据！')
        } else {
            //2.22有数据时 填充div数据
            var str = '<table border="1" cellspacing="0" width="600" align="center" style="text-align: center"> ' +
                '<tr><th>书名</th> <th>作者</th><th>价格</th><th>数量</th></tr>';
            //2.23注意行数不固定  随着据的增多而增多
            //有几个一维数组 意味着有几行数据  有几个<tr>
            for (var i = 0; i < bookArr.length; i++) {
                str += '<tr><td>' + bookArr[i][0] + '</td>' +
                    '<td>' + bookArr[i][1] + '</td>' +
                    '<td>' + bookArr[i][2] + '</td>' +
                    '<td>' + bookArr[i][3] + '</td></tr>'
            }

            //2.24数据展示
            str += '</table>';
            console.log(str);
            showDiv.innerHTML = str;
        }
    }


</script>
</body>
</html>