<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>调色板2</title>
    <style>
        body {
            background-color: rgb(200, 200, 200);
        }

        .box0 {
            width: 300px;
            height: 500px;
            border: 1px solid rgb(255, 255, 255);
            margin: 0 auto;
            padding: 10px;
            position: absolute;
            top: 10%;
            left: 40%;
        }

        .box2 {
            text-align: center;
        }

        .box3 {
            width: 300px;
            height: 210px;
            /*border: 1px solid rgb(255, 255, 255);*/
            margin: 0 auto;
            padding: 10px;
            text-align: center;
        }

        .rinput, .ginput, .binput {
            margin: 10px;
        }

        .rg, .rb, .gb, .rgb {
            margin: 10px;
        }
    </style>
</head>
<body>
<div class="box0">
    <div class="box">
        <p><span>R：</span>
            <button class="rsub">-</button>
            <input type="text" class="rinput" placeholder="200">
            <button class="radd">+</button>
        </p>
        <p><span>G：</span>
            <button class="gsub">-</button>
            <input type="text" class="ginput" placeholder="200">
            <button class="gadd">+</button>
        </p>
        <p><span>B：</span>
            <button class="bsub">-</button>
            <input type="text" class="binput" placeholder="200">
            <button class="badd">+</button>
        </p>
        <div class="box2">
            <button class="btn">变颜色</button>
        </div>
    </div>
    <hr>
    <div class="box3">
        <div class="rg"><span>R与G同时相加：</span>
            <button class="rgabtn">+</button>
        </div>
        <div class="rg"><span>R与G同时相减：</span>
            <button class="rgsbtn">-</button>
        </div>
        <div class="rb"><span>R与B同时相加：</span>
            <button class="rbabtn">+</button>
        </div>
        <div class="rb"><span>R与B同时相减：</span>
            <button class="rbsbtn">-</button>
        </div>
        <div class="gb"><span>G与B同时相加：</span>
            <button class="gbabtn">+</button>
        </div>
        <div class="gb"><span>G与B同时相减：</span>
            <button class="gbsbtn">-</button>
        </div>
        <div class="rgb"><span>RGB同时相加：</span>
            <button class="rgbabtn">+</button>
        </div>
        <div class="rgb"><span>RGB同时相减：</span>
            <button class="rgbsbtn">-</button>
        </div>
    </div>
</div>
<script>
    var rsub = document.querySelector('.rsub');
    var rinput = document.querySelector('.rinput');
    var radd = document.querySelector('.radd');

    var gsub = document.querySelector('.gsub');
    var ginput = document.querySelector('.ginput');
    var gadd = document.querySelector('.gadd');

    var bsub = document.querySelector('.bsub');
    var binput = document.querySelector('.binput');
    var badd = document.querySelector('.badd');

    var btn = document.querySelector('.btn');

    var rgabtn = document.querySelector('.rgabtn');
    var rgsbtn = document.querySelector('.rgsbtn');
    var rbabtn = document.querySelector('.rbabtn');
    var rbsbtn = document.querySelector('.rbsbtn');
    var gbabtn = document.querySelector('.gbabtn');
    var gbsbtn = document.querySelector('.gbsbtn');
    var rgbabtn = document.querySelector('.rgbabtn');
    var rgbsbtn = document.querySelector('.rgbsbtn');

    //定义信号量
    var r = 200;
    var g = 200;
    var b = 200;
    var time1, time2;

    function daxiao() {
        if (r < 0) {
            r = 0;
        }
        if (r > 255) {
            r = 255;
        }
        if (g < 0) {
            g = 0;
        }
        if (g > 255) {
            g = 255;
        }
        if (b < 0) {
            b = 0;
        }
        if (b > 255) {
            b = 255;
        }
        rinput.value = r;
        ginput.value = g;
        binput.value = b;
        document.body.style.backgroundColor = 'rgb(' + r + ',' + g + ',' + b + ')';
    }
    function time() {
        clearTimeout(time1);
        clearInterval(time2);
    }
    function rSub() {
        r--;
        daxiao();
    }
    rsub.onmousedown = function () {
        //当点击的时候就减
        rSub();
        time1 = setTimeout(function () {
            time2 = setInterval(rSub, 30);//第二次之后每次的延时时间
        }, 50);//第一次执行后的延时时间
    };
    rsub.onmouseup = rsub.onmouseout = function () {
        time()
    };

    function rAdd() {
        r++;
        daxiao();
    }
    radd.onmousedown = function () {
        //当点击的时候就减
        rAdd();
        time1 = setTimeout(function () {
            time2 = setInterval(rAdd, 30);//第二次之后每次的延时时间
        }, 50);//第一次执行后的延时时间
    };
    radd.onmouseup = radd.onmouseout = function () {
        time()
    };
    // -----------------G改变颜色---------------------------------
    function gSub() {
        g--;
        daxiao();
    }
    gsub.onmousedown = function () {
        //当点击的时候就减
        gSub();
        time1 = setTimeout(function () {
            time2 = setInterval(gSub, 30);//第二次之后每次的延时时间
        }, 50);//第一次执行后的延时时间
    };
    gsub.onmouseup = gsub.onmouseout = function () {
        time()
    };

    function gAdd() {
        g++;
        daxiao();
    }
    gadd.onmousedown = function () {
        //当点击的时候就减
        gAdd();
        time1 = setTimeout(function () {
            time2 = setInterval(gAdd, 30);//第二次之后每次的延时时间
        }, 50);//第一次执行后的延时时间
    };
    gadd.onmouseup = gadd.onmouseout = function () {
        time()
    };
    //--------------------B改变颜色--------------------------------
    function bSub() {
        b--;
        daxiao();
    }
    bsub.onmousedown = function () {
        //当点击的时候就减
        bSub();
        time1 = setTimeout(function () {
            time2 = setInterval(bSub, 30);//第二次之后每次的延时时间
        }, 50);//第一次执行后的延时时间
    };
    bsub.onmouseup = bsub.onmouseout = function () {
        time()
    };

    function bAdd() {
        b++;
        daxiao();
    }
    badd.onmousedown = function () {
        //当点击的时候就减
        bAdd();
        time1 = setTimeout(function () {
            time2 = setInterval(bAdd, 30);//第二次之后每次的延时时间
        }, 50);//第一次执行后的延时时间
    };
    badd.onmouseup = badd.onmouseout = function () {
        time()
    };
    btn.onclick = function () {
        r = rinput.value;
        g = ginput.value;
        b = binput.value;
        daxiao()
    };
    // ---------------------------以下为两种颜色改变时---------------------------------
    function rgSub() {
        r--;
        g--;
        daxiao();
    }
    rgsbtn.onmousedown = function () {
        //当点击的时候就减
        rgSub();
        time1 = setTimeout(function () {
            time2 = setInterval(rgSub, 30);//第二次之后每次的延时时间
        }, 50);//第一次执行后的延时时间
    };
    rgsbtn.onmouseup = rgsbtn.onmouseout = function () {
        time()
    };

    function rgAdd() {
        r++;
        g++;
        daxiao();
    }
    rgabtn.onmousedown = function () {
        //当点击的时候就减
        rgAdd();
        time1 = setTimeout(function () {
            time2 = setInterval(rgAdd, 30);//第二次之后每次的延时时间
        }, 50);//第一次执行后的延时时间
    };
    rgabtn.onmouseup = rgabtn.onmouseout = function () {
        time()
    };
    // ---------------------------以下为RB颜色改变时---------------------------------
    function rbSub() {
        r--;
        b--;
        daxiao();
    }
    rbsbtn.onmousedown = function () {
        //当点击的时候就减
        rbSub();
        time1 = setTimeout(function () {
            time2 = setInterval(rbSub, 30);//第二次之后每次的延时时间
        }, 50);//第一次执行后的延时时间
    };
    rbsbtn.onmouseup = rbsbtn.onmouseout = function () {
        time()
    };

    function rbAdd() {
        r++;
        b++;
        daxiao();
    }
    rbabtn.onmousedown = function () {
        //当点击的时候就减
        rbAdd();
        time1 = setTimeout(function () {
            time2 = setInterval(rbAdd, 30);//第二次之后每次的延时时间
        }, 50);//第一次执行后的延时时间
    };
    rbabtn.onmouseup = rbabtn.onmouseout = function () {
        time()
    };
    //---------------------以下是GB改变时-------------------------------
    function gbSub() {
        g--;
        b--;
        daxiao();
    }
    gbsbtn.onmousedown = function () {
        //当点击的时候就减
        gbSub();
        time1 = setTimeout(function () {
            time2 = setInterval(gbSub, 30);//第二次之后每次的延时时间
        }, 50);//第一次执行后的延时时间
    };
    gbsbtn.onmouseup = gbsbtn.onmouseout = function () {
        time()
    };

    function gbAdd() {
        g++;
        b++;
        daxiao();
    }
    gbabtn.onmousedown = function () {
        //当点击的时候就减
        gbAdd();
        time1 = setTimeout(function () {
            time2 = setInterval(gbAdd, 30);//第二次之后每次的延时时间
        }, 50);//第一次执行后的延时时间
    };
    gbabtn.onmouseup = gbabtn.onmouseout = function () {
        time()
    };
    //---------------------以下是RGB改变时-------------------------------
    function rgbSub() {
        r--;
        g--;
        b--;
        daxiao();
    }
    rgbsbtn.onmousedown = function () {
        //当点击的时候就减
        rgbSub();
        time1 = setTimeout(function () {
            time2 = setInterval(rgbSub, 30);//第二次之后每次的延时时间
        }, 50);//第一次执行后的延时时间
    };
    rgbsbtn.onmouseup = rgbsbtn.onmouseout = function () {
        time()
    };

    function rgbAdd() {
        r++;
        g++;
        b++;
        daxiao();
    }
    rgbabtn.onmousedown = function () {
        //当点击的时候就减
        rgbAdd();
        time1 = setTimeout(function () {
            time2 = setInterval(rgbAdd, 30);//第二次之后每次的延时时间
        }, 50);//第一次执行后的延时时间
    };
    rgbabtn.onmouseup = rgbabtn.onmouseout = function () {
        time()
    };

</script>
</body>
</html>