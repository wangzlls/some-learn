<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>定时器实现盒子移动</title>
    <style>
        .box {
            width: 100px;
            height: 100px;
            position: absolute;
            background-color: salmon;
            top: 100px;
            left: 50px;
        }
    </style>
</head>
<body>
<button class="start">开始</button>
<button class="end">结束</button>
<div class="box">box</div>
<script>
    var start = document.querySelector('.start');
    var end = document.querySelector('.end');
    var box = document.querySelector('.box');

    //设置定时器
    var timer;
    //申明全局变量为tempLeft，如果在内部申明则每次点击开始的时候调用onclick这个函数，tempLeft则会无限累加，导致无限加速
    var tempLeft = 30;
    start.onclick = function () {
        //此处清除定时器：在每次点击onclick后会生成一个新的定时器（2，3，4。。。），倒是后面的end.onclick无效。
        clearInterval(timer);
        timer = setInterval(function () {
            tempLeft += 20;
            box.style.left = tempLeft + 'px';
            //定时的毫秒数
        }, 50)
    };
    end.onclick = function () {
        clearInterval(timer);
    }

</script>
</body>
</html>