<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>新闻滚动事件</title>
    <style>
        * {
            margin: 0;
            padding: 0;
        }

        .box {
            height: 500px;
            width: 500px;
            border: 1px solid skyblue;
            position: relative;
            margin: 20px auto;
            overflow: hidden;
        }

        .content {
            padding: 20px;
            position: absolute;
            top: 0;
            left: 0;
        }

        .bar {
            height: 500px;
            width: 20px;
            background-color: black;
            position: absolute;
            right: 0;
            top: 0;
        }

        .sidebar {
            height: 50px;
            width: 20px;
            background-color: orange;
            position: absolute;
            top: 0;
            right: 0;
        }
    </style>
</head>
<body>
<div class="box">
    <div class="content">
        <p>
            原标题：马云任主席、马化腾任副主席，将协助完成中央赋予的重大使命

            　　1月12日下午，海南三亚，马云和马化腾分别坐在了海南省长沈晓明的左右两侧。这天，他俩也分别拥有了一个新的头衔。


            　　据《海南日报》报道，12日下午，海南省人民政府企业家咨询会议成立大会暨第一届年会在三亚召开。咨询会议宗旨是围绕“三区一中心”定位，为海南全面深化改革开放，建设自由贸易试验区和中国特色自由贸易港提供咨询建议，协助海南完成中央赋予的重大责任和使命，实现重大国家战略定位。成立大会确定阿里巴巴董事局主席马云、腾讯董事会主席马化腾、中化集团董事长宁高宁、北京大学教授周其仁、携程董事会主席梁建章为首届咨询会议成员，推选马云担任咨询会议首任主席、马化腾担任咨询会议副主席。现场视频显示，马云坐在海南省长沈晓明左侧，马化腾坐在沈晓明右侧，马云左侧为海南省委常委、常务副省长毛超峰，马化腾右侧为海南副省长王路。


            　　沈晓明代表海南省委、省政府和省委书记刘赐贵对咨询会议各位成员表示欢迎和感谢，并简要介绍了海南经济社会发展情况。他说，海南建省办经济特区30年来，在党中央坚强领导和全国大力支持下，经济社会发展取得了令人瞩目的成绩，但是也存在房地产一业独大、人才短缺、物价偏高等制约长远发展的“痛点”。改革是海南与生俱来的基因，开放是海南发展的需要、也是生存的需要，要站在全球格局中找准发展定位，重点培育发展旅游业、现代服务业、高新技术产业，减少经济对房地产的依赖，同时拓宽就业渠道，大力引进和培育人才。沈晓明希望咨询会议各位成员着眼于海南实际，立足产业高端、行业前沿，多为海南改革开放发展、自贸区和中国特色自贸港建设建言献策；帮助海南干部开阔眼界、提高发展开放型经济的工作能力；能够利用自身的人脉关系，多介绍海南、多推荐海南，吸引更多企业家和专家学者加入咨询会议，为与海南一起落实重大国家战略贡献智慧和力量。第一届年会上，5位咨询会议成员分别发言。马云建议探索数字经济时代的贸易新规则，注重培育发展中小企业，引进创新型创业型人才。马化腾从产业协同、区域协调、创新引领、差异化发展等方面提出了建议。宁高宁认为海南可以发展科技研发产业，建设数字岛、创业岛。周其仁提出海南着眼中国、东北亚和东南亚等地区二三十亿人的消费群体发展产业。梁建章围绕发展高端旅游业提出了看法。


            　　咨询会议成员名单如何确定？据《海南日报》介绍，咨询会议成员由海南省省长邀请，由热心海南全面深化改革开放事业、富于战略思维和创新意识的知名企业家及少数专家学者组成，人数不超过20人。咨询会议设1名主席、1名副主席，任期两年。主席一般在前任副主席中产生，在其任期将结束或结束后举行的全体成员会议上，经前任主席和海南省省长共同提名后推选产生。咨询会议的主要任务也十分明确，向海南省政府提供有助于海南改革开放的意见和建议，并使企业界进一步了解其在海南可能获得的机遇。每位咨询会议成员每年至少对海南做一次深入细致的调研。


            　　13日，《海南日报》头版刊发评论员文章《聚四方之智促海南发展》。评论称，建设自贸区、自贸港，是海南的重大历史机遇。去年以来，按照中央决策部署，海南积极推进自贸区、自贸港建设，取得了重要进展。但作为自贸区建设的后起之秀，海南依然面临着经济结构不优、人才短缺等现实短板。而企业家长期处于市场一线，对发展中的痛点、难点、堵点感受更深，对国际规则、市场规则更为熟知。咨询会议的成立可谓正逢其时，问智企业家，集聚四方智慧，可有效破除发展中的问题、短板，为海南自贸区、自贸港跨越式推进提供助力。“成大事者聚众智。建设自贸区、自贸港，是一项创新性、探索性的工作。习总书记嘱托，必须举全国之力、聚四方之才。咨询会议的成立，正是集众智、汇群力，共建海南自贸区、自贸港的重要体现。我们要提高认识，主动作为，运作好咨询会议，吸引更多的杰出企业家参与咨询会议，带动更多的力量推动海南自贸区、自贸港建设。同时，要以此为契机，重视企业、服务企业，全力打造一流营商环境，解决发展难题，高质量推进美好新海南建设。”去年4月13日，习近平在庆祝海南建省办经济特区30周年大会上郑重宣布，党中央决定支持海南全岛建设自由贸易试验区。次日，中共中央、国务院发布《关于支持海南全面深化改革开放的指导意见》，明确以现有自由贸易试验区试点内容为主体，结合海南特点，建设中国（海南）自由贸易试验区，实施范围为海南岛全岛。2018年10月16日，新华社消息，日前，国务院批复同意设立中国（海南）自由贸易试验区并印发《中国（海南）自由贸易试验区总体方案》。《方案》指出，建设海南自贸试验区是党中央、国务院着眼于国际国内发展大局，深入研究、统筹考虑、科学谋划作出的重大决策，是彰显我国扩大对外开放、积极推动经济全球化决心的重大举措。
        </p>
    </div>
    <div class="bar"></div>
    <div class="sidebar"></div>

</div>
<script>
    //1.获取页面元素
    var box = document.querySelector('.box');
    var content = document.querySelector('.content');
    var bar = document.querySelector('.bar');
    var sidebar = document.querySelector('.sidebar');

    //用Box的高除以content的高，求出比例
    var rate = box.clientHeight / content.clientHeight;
    //2.确定滚动条的长度
    var barHeight = rate * bar.clientHeight;
    sidebar.style.height = barHeight + 'px';
    console.log('box.clientHeight->' + box.clientHeight, 'box.clientHeight->' + box.offsetTop);
    console.log('bar.clientHeight->' + bar.clientHeight, 'sidebar.offsetTop->' + sidebar.offsetTop);

    //3事件一个开关
    //判断是否应该移动
    var flag = false;
    var delY = 0;
    sidebar.onmousedown = function (event) {
        // console.log('aaaaaaaa');
        //IE和非IE的兼容写法。
        var event = event || window.event;
        flag = true;
        delY = event.clientY - sidebar.offsetTop;
        // console.log('event.clientY->' + event.clientY);
        // console.log('delY->' + delY);
        // console.log('sidebar.offsetTop->' + sidebar.offsetTop);
        // console.log('-------------------------------------------');

        //取消冒泡，当点击滑轮的时候不会选中文字。
        event.preventDefault();
    };
    var tempTop = 0;
    function changeDistance() {
        if (tempTop < 0) {
            tempTop = 0;
        }
        console.log(tempTop);
        if (tempTop > bar.clientHeight - sidebar.clientHeight) {
            tempTop = bar.clientHeight - sidebar.clientHeight;
        }
        sidebar.style.top = tempTop + 'px';
        content.style.top = -tempTop / rate + 'px';
    }
    //鼠标移动事件
    document.onmousemove = function (event) {
        // console.log('aaaaaaaa');
        if (flag) {
            var event = event || window.event;
            tempTop = event.clientY - delY;
            changeDistance();
        }
    };
    //鼠标抬起时
    document.onmouseup = function () {
        flag = false;
    };

    function handlerMouseMiddle(event) {
        var event = event || window.event;
        //取消外部的默认联动
        if (event.preventDefault) {
            event.preventDefault();
        } else {
            event.returnValue = false;
        }
        //判断浏览器类型
        var dircetion = 0;
        if (event.wheelDelta) {
            dircetion = event.wheelDelta > 0 ? 1 : -1;
        } else {
            dircetion = event.detail < 0 ? 1 : -1;
        }

        /**
         *  向下滚动时
         *     *10 将滚动效果更加明显
         *      符号：将负值变为正值
         */
        tempTop += -dircetion * 10;
        changeDistance();
    }

    //IE Google
    box.onmousewheel = handlerMouseMiddle;
    try {
        //火狐
        box.addEventListener('DOMMouseScroll', handlerMouseMiddle);
    } catch (error) {
        console.log(error);
    }

</script>
</body>
</html>